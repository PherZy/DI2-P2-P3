<div class="add-password">
  <h2>Ajouter un nouveau mot de passe</h2>
  
  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="applicationId">Application</label>
      <select id="applicationId" formControlName="applicationId" class="form-control">
        <option value="">-- Sélectionner une application --</option>
        <option *ngFor="let app of applications" [value]="app.id">
          {{ app.name }} ({{ app.type === 1 ? 'Grand public' : 'Professionnelle' }})
        </option>
      </select>
      <div *ngIf="passwordForm.get('applicationId')?.errors?.['required'] && passwordForm.get('applicationId')?.touched" class="error">
        L'application est requise
      </div>
    </div>
    
    <div class="form-group">
      <label for="username">Nom d'utilisateur</label>
      <input type="text" id="username" formControlName="username" class="form-control">
      <div *ngIf="passwordForm.get('username')?.errors?.['required'] && passwordForm.get('username')?.touched" class="error">
        Le nom d'utilisateur est requis
      </div>
    </div>
    
    <div class="form-group">
      <label for="password">Mot de passe</label>
      <input type="password" id="password" formControlName="password" class="form-control">
      <div *ngIf="passwordForm.get('password')?.errors?.['required'] && passwordForm.get('password')?.touched" class="error">
        Le mot de passe est requis
      </div>
      <div *ngIf="passwordForm.get('password')?.errors?.['minlength'] && passwordForm.get('password')?.touched" class="error">
        Le mot de passe doit contenir au moins 6 caractères
      </div>
    </div>
    
    <div class="form-group">
      <label for="notes">Notes</label>
      <textarea id="notes" formControlName="notes" class="form-control"></textarea>
    </div>
    
    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="passwordForm.invalid">Ajouter</button>
      <button type="button" class="btn btn-secondary" routerLink="/passwords">Annuler</button>
    </div>
  </form>
</div>